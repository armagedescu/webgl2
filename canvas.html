<html>
<head>
   <title>canvas</title>
   <script>
      let step = 7;
      let pset;// = [][]
	  let canvas;
      let ctx;
	  let width, heigth;
	  window.addEventListener('DOMContentLoaded', (event) =>
	  {
	     canvas = document.getElementById("myCanvas");
		 canvas.addEventListener('click', clickCell);
         ctx    = canvas.getContext("2d");
		 initDraw();
		 drawLines();
      });
	  function initDraw()
	  {
		 width  = canvas.width / step;
		 height = canvas.height / step;
		 ctx.translate(0.5, 0.5);
         ctx.lineWidth = 0.1;
		 ctx.strokeStyle = '#aaaaaa';
	  }
	  function drawLines()
	  {
		 for (let i = 0; i < width; i++)
		 {
            ctx.moveTo(i * step, 0);
            ctx.lineTo(i * step, canvas.height);
            ctx.stroke();
		 }
		 for (let i = 0; i < height; i++)
		 {
            ctx.moveTo(0, i * step);
            ctx.lineTo(canvas.width, i * step);
            ctx.stroke();
		 }
	  }
	  function drawSquares()
	  {
		 for (let i = 0; i < width; i++)
		 {
            ctx.moveTo(i * step, 0);
            ctx.lineTo(i * step, canvas.height);
            ctx.stroke();
		 }
		 for (let i = 0; i < height; i++)
		 {
            ctx.moveTo(0, i * step);
            ctx.lineTo(canvas.width, i * step);
            ctx.stroke();
		 }
	  }
	  function clickCell(e)
	  {
          x = Math.trunc(e.clientX / step);
          y = Math.trunc(e.clientY / step);
		  alert("x=" + x + "; y=" + y);
	  }
   </script>
</head>
<body>
   <canvas id="myCanvas" width="600" height="500" style="border:1px solid #000000;"></canvas>
</body>
</html>